{% extends 'base.html' %}
{% block title %}Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ± - Ø¬Ù…ÙŠØ¹ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¬Ø±Ø¯{% endblock %}

{% block content %}

<style>
    .page-container { max-width: 950px; margin: auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 18px; }
    th, td { padding: 10px; text-align: center; border-bottom: 1px solid #eee; }

    th { background: #0d6efd; color: white; }

    .status-pill {
        padding: 5px 12px; border-radius: 20px; font-size: 12px; color: #fff;
    }
    .st-in_progress { background:#0d6efd; }
    .st-completed { background:#198754; }
    .st-submitted_to_supervisor { background:#ffc107; color:#000; }
    .st-supervisor_approved { background:#0aad3a; }
    .st-supervisor_rejected { background:#dc3545; }

    .filter-box {
        background: #fff; padding: 14px; border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06); margin-bottom: 18px;
    }

    .btn {
        padding: 8px 14px; border-radius: 6px; text-decoration: none;
        color: white; background: #0d6efd; display: inline-block;
    }
</style>

<div class="page-container">

    <h2>ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¬Ø±Ø¯</h2>

    <!-- Ø§Ù„ÙÙ„Ø§ØªØ± -->
    <div class="filter-box">
        <form method="GET">
            <label>Ø§Ù„Ø­Ø§Ù„Ø©:</label>
            <select name="status">
                <option value="">Ø§Ù„ÙƒÙ„</option>
                <option value="in_progress">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¬Ø±Ø¯</option>
                <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option>
                <option value="submitted_to_supervisor">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø´Ø±Ù</option>
                <option value="supervisor_approved">Ù…Ø¹ØªÙ…Ø¯Ø©</option>
                <option value="supervisor_rejected">Ù…Ø±ÙÙˆØ¶Ø©</option>
            </select>

            <button class="btn" type="submit">ğŸ” Ø¨Ø­Ø«</button>
        </form>
    </div>

    <!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
    <table>
        <tr>
            <th>Ø§Ù„Ù…Ø¹Ø±Ù</th>
            <th>Ø§Ù„Ù…ÙˆØ¸Ù</th>
            <th>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</th>
            <th>Ø§Ù„Ù…Ø¨Ù†Ù‰</th>
            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th>Ø¹Ø±Ø¶</th>
        </tr>

        {% for s in sessions %}
        <tr>
            <td>{{ s.id }}</td>
            <td>{{ s.employee.username }}</td>
            <td>{{ s.region }}</td>
            <td>{{ s.building }}</td>
            <td>
                <span class="status-pill st-{{ s.status }}">
                    {{ s.get_status_display }}
                </span>
            </td>
            <td>
                <a href="{% url 'inventory_app:admin_session_detail' s.id %}" class="btn">Ø¹Ø±Ø¶</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù„Ø³Ø§Øª</td></tr>
        {% endfor %}
    </table>

</div>

{% endblock %}
